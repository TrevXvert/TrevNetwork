"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[752],{752:(s,e,a)=>{a.r(e),a.d(e,{default:()=>b});var l=a(379);const i="dialogs_dialogs__0aBV0",d="dialogs_wrapper__GCm2a",r="dialogs_users__5qdIk",n="dialogs_user__dIvqM",t="dialogs_user__avatar__3naMP",m="dialogs_messages__c2q1r",g="dialogs_message__Q9eH-",c="dialogs_my__message__AzphO";var o=a(858),_=a(43),u=a(579);const h=_.memo((s=>{const{register:e,formState:{errors:a,isValid:n},handleSubmit:t,reset:g}=(0,o.mN)({mode:"onChange"}),h=(0,_.useCallback)((e=>{s.sendMessage(e),g()}),[s,g]);return(0,u.jsx)("div",{className:i,children:(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)("ul",{className:r,children:s.DialogsElements}),(0,u.jsxs)("form",{onSubmit:t(h),className:m,children:[s.MessagesElements,(0,u.jsx)("div",{className:c,children:(0,u.jsx)("textarea",(0,l.A)({},e("message",{required:"Message is required"})))}),(0,u.jsx)("button",{disabled:!n,children:"Send"})]})]})})}));var x=a(661),j=a(3),p=a(283);const v=s=>{let e="/dialogs/"+s.id;return(0,u.jsx)(p.k2,{to:e,children:(0,u.jsxs)("li",{className:n,children:[(0,u.jsx)("div",{className:t,children:(0,u.jsx)("img",{src:s.avatar,alt:""})}),(0,u.jsx)("p",{children:s.name})]})})},N=s=>(0,u.jsx)("div",{className:g,children:s.message});var A=a(882);const b=()=>{(0,A.A)();const s=(0,j.wA)(),e=(0,j.d4)((s=>s.DialogsPage.dialogsData)),a=(0,j.d4)((s=>s.DialogsPage.messagesData));let l=e.map((s=>(0,u.jsx)(v,{name:s.name,avatar:s.avatar},s.id))),i=a.map((s=>(0,u.jsx)(N,{message:s.message},s.id)));return(0,u.jsx)(h,{sendMessage:e=>{s((0,x.g)(e))},DialogsElements:l,MessagesElements:i})}},882:(s,e,a)=>{a.d(e,{A:()=>r});var l=a(3),i=a(283),d=a(43);const r=()=>{const s=(0,l.d4)((s=>s.Auth.isAuth)),e=(0,l.d4)((s=>s.App.init)),a=(0,i.Zp)();(0,d.useEffect)((()=>{e&&!s&&a("/login")}),[e,s,a])}}}]);
//# sourceMappingURL=752.7ed2e6c5.chunk.js.map